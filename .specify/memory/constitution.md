# [遊戲名稱] Constitution

## 專案憲法
本文件定義專案開發的不可變原則，所有開發決策都必須遵循這些原則。

---

## 核心價值

### 1. 玩家體驗優先
- 所有功能設計都以提升玩家體驗為目標
- 效能優化不能犧牲核心遊玩體驗
- UI/UX 設計要直覺且友善

### 2. 程式碼品質
- 可讀性優於簡潔性
- 所有公開 API 必須有文件註解
- 程式碼必須通過靜態分析（無警告）

### 3. 測試文化
- 商業邏輯必須有單元測試
- 測試覆蓋率目標：80% 以上
- TDD 優先：先寫測試，再寫實作

---

## 技術原則

### 架構原則
- **依賴注入**：所有服務透過 DI 容器注入
- **介面優先**：依賴介面而非具體實作
- **單一職責**：每個類別只負責一件事
- **低耦合高內聚**：模組間保持獨立

### 程式碼規範
- **命名規範**：
  - 類別/介面：PascalCase
  - 方法/屬性：PascalCase
  - 私有欄位：_camelCase
  - 參數/變數：camelCase
  - 常數：PascalCase

- **錯誤處理**：
  - 使用 Result Pattern 處理預期錯誤
  - Exception 只用於真正的例外情況
  - 所有錯誤都要有日誌記錄

- **非同步**：
  - IO 操作使用 async/await
  - 避免 .Result 或 .Wait() 阻塞

### 效能原則
- 遊戲迴圈中避免 GC 分配
- 使用 Object Pool 管理頻繁建立的物件
- 批次處理優於逐一處理

---

## 開發流程原則

### SDD 流程
1. **Constitution First**：憲法是一切的基礎
2. **Specify Before Code**：先有規格，再有程式
3. **Plan Before Execute**：先有計畫，再執行
4. **Test First**：先寫測試，再寫實作

### 版本控制
- 每個功能一個分支
- 提交訊息遵循 Conventional Commits
- PR 必須經過 Code Review

### 文件要求
- README 保持更新
- API 變更需更新文件
- 設計決策需記錄 ADR

---

## 品質標準

### 必須通過
- [ ] 編譯無錯誤
- [ ] 編譯無警告
- [ ] 所有測試通過
- [ ] 程式碼格式正確

### 審查重點
- [ ] 符合規格需求
- [ ] 遵循架構設計
- [ ] 有適當測試
- [ ] 無明顯效能問題

---

## 禁止事項

### 絕對禁止
- ❌ 硬編碼密碼或金鑰
- ❌ 忽略例外處理
- ❌ 使用魔術數字（要用常數）
- ❌ 在遊戲迴圈中分配大量記憶體
- ❌ 提交無法編譯的程式碼

### 盡量避免
- ⚠️ 過早優化
- ⚠️ 過度設計
- ⚠️ 重複程式碼
- ⚠️ 過長的方法（超過 50 行）
- ⚠️ 過深的巢狀（超過 3 層）

---

## 技術棧約定

### 主要技術
- **語言**：C# 12+
- **框架**：[Unity / .NET / Godot]
- **IDE**：Visual Studio / VS Code / Rider

### 必用套件
- 日誌：Microsoft.Extensions.Logging
- DI：Microsoft.Extensions.DependencyInjection
- 測試：xUnit + FluentAssertions + Moq

### 禁用套件
- （列出團隊不使用的套件及原因）

---

## 變更歷史

| 日期 | 版本 | 變更內容 | 變更者 |
|------|------|---------|--------|
| YYYY-MM-DD | 1.0 | 初始版本 | [name] |
